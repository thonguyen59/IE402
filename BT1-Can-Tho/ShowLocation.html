<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>ArcGIS JavaScript Tutorials: Create a Starter App</title>
    <style>
        html, body, #viewDiv {
            padding: 0;
            margin: 0;
            height: 100%;
            width: 100%;
        }
    </style>

    <link rel="stylesheet" href="https://js.arcgis.com/4.15/esri/themes/light/main.css">
    <script src="https://js.arcgis.com/4.15/"></script>
    <script src="ProvinceData.js"></script>
    <script src="ProvincialHighwayData.js"></script>

    <script>
      var point_template_tree = {
        title: "{Name}",
        content: "Cây này ở <b>{Location}</b>."
      };
      var point_template_light = {
        title: "{Name}",
        content: "Bóng đèn này ở <b>{Location}</b>."
      };
      var point_template_chair = {
        title: "{Name}",
        content: "Cái ghế này ở <b>{Location}</b>."
      };
      var point_template_area = {
        title: "{Name}",
        content: "Khu vực này ở <b>{Location}</b>."
      };
      var point_template_university = {
        title: "{Name}",
        content: "Trường ở <b>{Location}</b>."
      };
      var jsondata = {
        "points":[
          {
            type: "point",
            longitude: 105.7561090852892,
            latitude: 10.039932562130035,
            Name: "Thành Phố Cần Thơ",
            Location: "Thành phố Cần Thơ nằm trong vùng trung – hạ lưu và ở vị trí trung tâm châu thổ đồng bằng sông Cửu Long, trải dài trên 55km dọc bờ Tây sông Hậu, tổng diện tích tự nhiên 1.401,61 km2",
            symbol: {
              type: 'picture-marker',
              url: 'images/city.png', // cẩn thận khi dùng absolute URL
              width: '48px',
              height: '48px',
            },
            popupTemplate: point_template_tree
          },
          {
            type: "point",
            longitude: 105.76818831252898,
            latitude: 10.031245727583954,
            Name: "Bóng Đèn 01",
            Location: "trong khuông viên trường ĐH TDTT",
            symbol: {
              type: 'picture-marker',
              // url: 'https://static.arcgis.com/images/Symbols/Shapes/BlackStarLargeB.png', // cẩn thận khi dùng absolute URL
              url: 'images/school.png', // cẩn thận khi dùng absolute URL
              width: '48px',
              height: '48px',
            },
            popupTemplate: point_template_light
          },
          {
            type: "point",
            longitude: 105.769188,
            latitude: 10.030966,
            Name: "Ghế ngồi",
            Location: "trong khuông viên trường ĐH CNTT",
            symbol: {
              type: "simple-marker",
              color: [153, 51, 51],
              outline: {
                color: [255, 255, 255],
                width: 1
              }
            },
            popupTemplate: point_template_chair
          }
        ],
        "polygons":[
          {
            type: "polygon",
            rings: VinhThanh,
            Name: "Đại học CNTT",
            Location: "Khu phố 6, P.Linh Trung, Q.Thủ Đức, Tp.Hồ Chí Minh",
            symbol: {
              type: "simple-fill",
              color: [227, 139, 79, 0.4],
              outline: {
                color: [255, 255, 255],
                width: 1
              }
            },
            popupTemplate: point_template_university
          },
          {
            type: "polygon",
            rings: ThotNot,
            Name: "Đại học Nông Lâm",
            Location: "Khu phố 6, P.Linh Trung, Q.Thủ Đức, Tp.Hồ Chí Minh",
            symbol: {
              type: "simple-fill",
              color: [0, 153, 0, 0.4],
              outline: {
                color: [255, 255, 255],
                width: 1
              }
            },
            popupTemplate: point_template_university
          },
          {
            type: "polygon",
            rings: [
              [106.80514114445627, 10.870158436990936],
              [106.80400388783394, 10.868915147546755],
              [106.8032099539655, 10.868325110065758],
              [106.80245893544132, 10.869210165849735],
              [106.80245893544132, 10.869484111155634],
              [106.8037463957685, 10.871085632526057]
            ],
            Name: "Đại học TDTT",
            Location: "Khu phố 6, P.Linh Trung, Q.Thủ Đức, Tp.Hồ Chí Minh",
            symbol: {
              type: "simple-fill",
              color: [204, 153, 0, 0.4],
              outline: {
                color: [255, 255, 255],
                width: 1
              }
            },
            popupTemplate: point_template_university
          },
          {
            type: "polygon",
            rings: CoDo,
            Name: "Đại học KHTN",
            Location: "Khu phố 6, P.Linh Trung, Q.Thủ Đức, Tp.Hồ Chí Minh",
            symbol: {
              type: "simple-fill",
              color: [51, 102, 255, 0.4],
              outline: {
                color: [255, 255, 255],
                width: 1
              }
            },
            popupTemplate: point_template_university
          }
        ],
        "lines":[
          {
            type: "polyline",
            paths: tl921_1,
            symbol: {
              type: "simple-line",
              color: [226, 119, 40], // orange
              width: 2
            },
            Name: "Đường tỉnh 921",
            Location: "Đường tỉnh lộ 921",
            popupTemplate: point_template_area
          },
          {
            type: "polyline",
            paths: tl921_2,
            symbol: {
              type: "simple-line",
              color: [226, 119, 40], // orange
              width: 2
            },
            Name: "Đường tỉnh 921",
            Location: "Đường tỉnh lộ 921",
            popupTemplate: point_template_area
          },
          {
            type: "polyline",
            paths: tl921_3,
            symbol: {
              type: "simple-line",
              color: [226, 119, 40], // orange
              width: 2
            },
            Name: "Đường tỉnh 921",
            Location: "Đường tỉnh lộ 921",
            popupTemplate: point_template_area
          },
          {
            type: "polyline",
            paths: tl921_4,
            symbol: {
              type: "simple-line",
              color: [226, 119, 40], // orange
              width: 2
            },
            Name: "Đường tỉnh 921",
            Location: "Đường tỉnh lộ 921",
            popupTemplate: point_template_area
          },
          {
            type: "polyline",
            paths: tl921_5,
            symbol: {
              type: "simple-line",
              color: [226, 119, 40], // orange
              width: 2
            },
            Name: "Đường tỉnh 921",
            Location: "Đường tỉnh lộ 921",
            popupTemplate: point_template_area
          },
          {
            type: "polyline",
            paths: tl926_1,
            symbol: {
              type: "simple-line",
              color: [226, 119, 40], // orange
              width: 2
            },
            Name: "Đường tỉnh 926",
            Location: "Đường tỉnh lộ 926",
            popupTemplate: point_template_area
          },
          {
            type: "polyline",
            paths: tl926_2,
            symbol: {
              type: "simple-line",
              color: [226, 119, 40], // orange
              width: 2
            },
            Name: "Đường tỉnh 926",
            Location: "Đường tỉnh lộ 926",
            popupTemplate: point_template_area
          },
          {
            type: "polyline",
            paths: [],
            symbol: {
              type: "simple-line",
              color: [226, 119, 40], // orange
              width: 2
            },
            Name: "Đường tỉnh 926",
            Location: "Đường tỉnh lộ 926",
            popupTemplate: point_template_area
          }
        ]
      };
      require([
        "esri/Map",
        "esri/views/MapView",
        "esri/Graphic",
        "esri/layers/GraphicsLayer"
      ], function(Map, MapView, Graphic, GraphicsLayer) {

        var map = new Map({
          basemap: "topo-vector"
        });
        map.on("load", function(){
          map.graphics.enableMouseEvents();
        });

        var view = new MapView({
          container: "viewDiv",
          map: map,
          center: [105.560532448366, 10.148417422344627],
          zoom: 11,
          highlightOptions: {
            color: "blue"
          }
        });
        var createGraphic = function (data) {
          return new Graphic({
            geometry: data,
            symbol: data.symbol,
            attributes: data,
            popupTemplate: data.popupTemplate
          });
        };
        var graphicsLayer = new GraphicsLayer();
        jsondata.points.forEach(function(data){
          graphicsLayer.add(createGraphic(data));
        });
        jsondata.lines.forEach(function(data){
          graphicsLayer.add(createGraphic(data));
        });
        jsondata.polygons.forEach(function(data){
          graphicsLayer.add(createGraphic(data));
        });
        map.add(graphicsLayer);


      });
    </script>
</head>
<body>
<div id="viewDiv"></div>
</body>
</html>